<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class PropertyChangedEventHelpers
   </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class PropertyChangedEventHelpers
   ">
    <meta name="generator" content="docfx 2.58.9.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="SadRogue.Primitives.PropertyChangedEventHelpers">
  
  
  <h1 id="SadRogue_Primitives_PropertyChangedEventHelpers" data-uid="SadRogue.Primitives.PropertyChangedEventHelpers" class="text-break">Class PropertyChangedEventHelpers
  </h1>
  <div class="markdown level0 summary"><p>Helper functions useful for implementing events using <a class="xref" href="SadRogue.Primitives.ValueChangedEventArgs-1.html">ValueChangedEventArgs&lt;TProperty&gt;</a> as their parameter.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">Object</a></div>
    <div class="level1"><span class="xref">PropertyChangedEventHelpers</span></div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="SadRogue.Primitives.html">SadRogue.Primitives</a></h6>
  <h6><strong>Assembly</strong>: TheSadRogue.Primitives.dll</h6>
  <h5 id="SadRogue_Primitives_PropertyChangedEventHelpers_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static class PropertyChangedEventHelpers : Object</code></pre>
  </div>
  <h3 id="methods">Methods
  </h3>
  
  
  <a id="SadRogue_Primitives_PropertyChangedEventHelpers_SafelySetProperty_" data-uid="SadRogue.Primitives.PropertyChangedEventHelpers.SafelySetProperty*"></a>
  <h4 id="SadRogue_Primitives_PropertyChangedEventHelpers_SafelySetProperty__2___0___1____1_System_EventHandler_SadRogue_Primitives_ValueChangedEventArgs___1___" data-uid="SadRogue.Primitives.PropertyChangedEventHelpers.SafelySetProperty``2(``0,``1@,``1,System.EventHandler{SadRogue.Primitives.ValueChangedEventArgs{``1}})">SafelySetProperty&lt;TObject, TProperty&gt;(TObject, ref TProperty, TProperty, EventHandler&lt;ValueChangedEventArgs&lt;TProperty&gt;&gt;)</h4>
  <div class="markdown level1 summary"><p>Sets the given field to the new value, and fires the corresponding event just after the value has been changed.
The value will be properly reverted to the old value if the event handler throws InvalidOperationException.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static void SafelySetProperty&lt;TObject, TProperty&gt;(this TObject self, ref TProperty propertyField, TProperty newValue, EventHandler&lt;ValueChangedEventArgs&lt;TProperty&gt;&gt; changedEvent)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">TObject</span></td>
        <td><span class="parametername">self</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">TProperty</span></td>
        <td><span class="parametername">propertyField</span></td>
        <td><p>Field to set.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">TProperty</span></td>
        <td><span class="parametername">newValue</span></td>
        <td><p>New value to set to given field.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.eventhandler-1">EventHandler</a>&lt;<a class="xref" href="SadRogue.Primitives.ValueChangedEventArgs-1.html">ValueChangedEventArgs</a>&lt;TProperty&gt;&gt;</td>
        <td><span class="parametername">changedEvent</span></td>
        <td><p>Event to fire when change occurs.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="typeParameters">Type Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="parametername">TObject</span></td>
        <td><p>Type of the object the property resides on.</p>
</td>
      </tr>
      <tr>
        <td><span class="parametername">TProperty</span></td>
        <td><p>Type of the property.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="SadRogue_Primitives_PropertyChangedEventHelpers_SafelySetProperty__2___0___1____1_System_EventHandler_SadRogue_Primitives_ValueChangedEventArgs___1____remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>It is fairly common to have an object with a property, such that when the property changes, an event is fired.
<a class="xref" href="SadRogue.Primitives.IPositionable.html">IPositionable</a> represents one such interface that is common when dealing with a 2D grid.</p>
<p>Although the implementation of such a property is relatively trivial, there are a few subtle issues that
can occur:</p>
<ul>
<li>The event might be fired even if the property was set to the same value it is currently</li>
<li>If a handler throws something like InvalidOperationException, the value may not be reverted properly.</li>
</ul>
<p>This function represents a convenient way to implement such a property.  An implementation using this property
might look like the example below.</p>
<p>Note that this function can work for properties of any type; you could just as easily implement <a class="xref" href="SadRogue.Primitives.IPositionable.html">IPositionable</a>
via this interface, for example.</p>
<example>
<pre><code>class MyClass
{
    private int _myProperty;
    public int MyProperty
    {
        get => _myProperty;
        set => this.SafelySetProperty(ref _myProperty, value, MyPropertyChanged);
    }
    public event EventHandler&lt;ValueChangedEventArgs&lt;int>>? MyPropertyChanged;
}</code></pre>
</example>
</div>
  
  
  <a id="SadRogue_Primitives_PropertyChangedEventHelpers_SafelySetProperty_" data-uid="SadRogue.Primitives.PropertyChangedEventHelpers.SafelySetProperty*"></a>
  <h4 id="SadRogue_Primitives_PropertyChangedEventHelpers_SafelySetProperty__2___0___1____1_System_EventHandler_SadRogue_Primitives_ValueChangedEventArgs___1___System_EventHandler_SadRogue_Primitives_ValueChangedEventArgs___1___" data-uid="SadRogue.Primitives.PropertyChangedEventHelpers.SafelySetProperty``2(``0,``1@,``1,System.EventHandler{SadRogue.Primitives.ValueChangedEventArgs{``1}},System.EventHandler{SadRogue.Primitives.ValueChangedEventArgs{``1}})">SafelySetProperty&lt;TObject, TProperty&gt;(TObject, ref TProperty, TProperty, EventHandler&lt;ValueChangedEventArgs&lt;TProperty&gt;&gt;, EventHandler&lt;ValueChangedEventArgs&lt;TProperty&gt;&gt;)</h4>
  <div class="markdown level1 summary"><p>Sets the given field to the new value, and fires the corresponding events.  The value will be properly
reverted to the old value if the Changed event handler throws InvalidOperationException.  The &quot;changing&quot;
event will be fired just <em>before</em> the value actually changes; the &quot;changed&quot; event will be fired just after.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static void SafelySetProperty&lt;TObject, TProperty&gt;(this TObject self, ref TProperty propertyField, TProperty newValue, EventHandler&lt;ValueChangedEventArgs&lt;TProperty&gt;&gt; changingEvent, EventHandler&lt;ValueChangedEventArgs&lt;TProperty&gt;&gt; changedEvent)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">TObject</span></td>
        <td><span class="parametername">self</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">TProperty</span></td>
        <td><span class="parametername">propertyField</span></td>
        <td><p>Field to set.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">TProperty</span></td>
        <td><span class="parametername">newValue</span></td>
        <td><p>New value to set to given field.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.eventhandler-1">EventHandler</a>&lt;<a class="xref" href="SadRogue.Primitives.ValueChangedEventArgs-1.html">ValueChangedEventArgs</a>&lt;TProperty&gt;&gt;</td>
        <td><span class="parametername">changingEvent</span></td>
        <td><p>Event to fire when change is about to occur.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.eventhandler-1">EventHandler</a>&lt;<a class="xref" href="SadRogue.Primitives.ValueChangedEventArgs-1.html">ValueChangedEventArgs</a>&lt;TProperty&gt;&gt;</td>
        <td><span class="parametername">changedEvent</span></td>
        <td><p>Event to fire after change occurs.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="typeParameters">Type Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="parametername">TObject</span></td>
        <td><p>Type of the object the property resides on.</p>
</td>
      </tr>
      <tr>
        <td><span class="parametername">TProperty</span></td>
        <td><p>Type of the property.</p>
</td>
      </tr>
    </tbody>
  </table>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
